# 开发指南

## 协作开发简述

master分支被保护，更改通过dev分支上传。

### Git操作

#### 下载仓库

```bash
git clone -b dev https://github.com/WLLEGit/StaticAnalyzer-WebUI.git
```

#### 基本的代码修改提交流程

禁止使用`push --force `!

```bash
git add *
git commit -m "描述这次commit"
git push origin dev
```

#### 同步远端最新代码

为了commit的简洁，避免多余的merge信息，更推荐rebase方式的同步

```bash
git fetch origin
git rebase origin/dev
```

#### 分支操作

开发有一定规模、时间跨度的新功能时，更推荐切换到新分支开发，开发后合并入dev再上传，以避免开发中途要紧急修改dev内容并上传时工作流紊乱。小规模则不推荐这样，因为merge操作会带来额外的commit信息。

```bash
git branch feature
git checkout feature
# 开发, commit
git checkout dev
git merge feature
```

#### Squash合并commit

开发过程中可能有这样的需求：希望定期commit描述开发过程，但又产生了众多记录，这时可以使用squash技术将多个commit

合并为一个。

```
git rebase -i HEAD~n	# n为需要合并的commit数量
# 然后在弹出的文本编辑器中将希望被合并的commit前的pick改为s，保存
```

### 风格规范

#### Commit Message风格规范

提交commit时尽可能遵循Angular风格，以如下字段开头：

1. feat：新功能
2. fix：修复bug
3. docs：文档
4. refactor：重构
5. perf：性能提升
6. test：添加测试
7. chore：构建过程或辅助工具改变

例如`git commit -m "fix: 修复了xxx问题"`。

📛**ATTENTION**：需要注意Angular风格的commit都会被记入Change Log中，不希望被发布的不要以上述关键词开头，可以用squash合并美化commit历史。

#### 编码风格规范

待定

## 开发环境

依赖环境：

1. Docker

推荐的工具：

1. Postman: API测试工具，用于发起各种协议的网络请求，测试后端接口可用性
1. Mock.js：前端数据模拟，用于开发阶段拦截api访问，模拟后端
